//four slide
.fourSlide {

  @include breakpoint-up('md-tab'){
    margin-right: -356px;
  }
  .card {
    figure {
      overflow: hidden;
      img {
        display: block;
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
    }
  }
}
//section spacing

%section-padding{
  padding: 5rem 0;
  @include breakpoint-up('lg-tab'){
    padding: 8rem 0;
  }
}
%shape{
  &::before{
    content: '';
    width: 100%;
    height: 50px;
    top: 0;
    left: 0;
    position: absolute;
    background-image: url('../../images/curve.png');
  }
  
}

//extend class for section
.common-section {
  display: grid;
  padding: 1rem;
  @include align-items(center);
  row-gap: 2rem;
  .intro{
    order:1;
    @include breakpoint-down("lg-tab") {
      padding:0 1rem
    }
  }
  .contents{
    order:0;

  }
  @include breakpoint-up("md-tab") {
    padding:1.5rem
  }
  @include breakpoint-up("lg-tab") {
    grid-template-columns: 0.5fr 1fr;
    column-gap: 4rem;
    row-gap: unset;
    padding-left:3rem;
    .intro{
      order:0;
      h5{
        display: none;
      }
    }
    .contents{
      order:1;
      margin-bottom: 0;
    }
  }
  @include breakpoint-up("sm-desktop") {
    grid-template-columns: 0.6fr 1fr;
    padding:2rem 2rem 2rem 4rem;
    column-gap: 6rem;
  }
}

.col-two {
  display: grid;
  --minwidth: 280px;
  grid-template-columns: repeat(auto-fit, minmax(var(--minwidth), 1fr));
  column-gap: 2rem;
  @include breakpoint-up("md-tab") {
    --minwidth: 350px;
  }
  @include breakpoint-up("lg-tab") {
    align-items: center;
  }
}
.title{
  h5{
    position: relative;
    margin-bottom: 10px;
  
  }
  
  &-content{
    max-width: 768px;
    &_max{
      margin:auto;
    }
  }
}
.hero{
  // @include background-gradient(var(--clr-primary-light), var(--clr-secondary), 'vertical');
  background: linear-gradient(160deg, lighten($primary, 30%) 19%, lighten($primary, 10%) 70%);
  height:calc(100vh - 50px);
  position: relative;
  &::before{
    content: '';
    width: 100%;
    height: 50px;
    left: 0;
    position: absolute;
    background-image: url('../../images/curve.png');
    bottom:0;
    transform: rotate(180deg);
  }
  &-content{
    max-width: 960px;
    margin:auto;
  }
}
.about{
  @extend %section-padding;
  
  position: relative;
  &-content{
    max-width: 960px;
    margin:auto;
  }
}

.home-banner {
  --max-content-width: 410px;
  padding: 15vw 0 20vw;
  position: relative;
  visibility: hidden; // This will be changed form GSAP
  @include for-wide-aspect-ratio {
    min-height: 90vh;
  }
  h1 {
    max-width: var(--max-content-width);
  }
  p {
    max-width: var(--max-content-width);
  }
  .btn {
    &-primary {
      opacity: 0;
    }
  }
  &__content {
    padding-right: 10%;
    @include breakpoint-up('xl-tab') {
      padding-right: 25%;
    }
    @include breakpoint-down('lg-tab') {
      padding-top: 250px;
    }
    @include breakpoint-down('xl-phone') {
      padding-right: 0;
      padding-top: 50vw;
    }
  }
  &__image-1 {
    top: -8vw;
    right: 0;
    width: 54vw;
    max-width: 1020px;
    position: absolute;
    pointer-events: none;
    clip-path: circle(0% at 100% 0);
    @include breakpoint-down('xl-phone') {
      top: 0;
    }
  }
  &__play-icon {
    top: 50%;
    left: 50%;
    position: absolute;
    transform: translate(-50%, -50%);
    background: transparent;
    filter: drop-shadow(0 0 1px white);
    @include breakpoint-down('lg-tab') {
      top: 30%
    }
    @include breakpoint-down('xl-phone') {
      top: 35vw;
    }
    &:hover,
    &:focus {
      path {
        &:nth-child(1) {
          fill: var(--clr-green);
        }
        @for $i from 2 through 33 {
          &:nth-child(#{$i}) {
            fill: none;
            animation: writing-effect 2s ease forwards #{($i - 1) * 0.02}s;
          }
        }
      }
    }
    svg {
      height: auto;
      max-width: 25vw;
      @include breakpoint-down('md-tab') {
        width: 100px;
        height: auto;
      }
      @include breakpoint-down('xl-phone') {
        width: 86px;
      }
    }
    path {
      transition: fill linear var(--transition-speed);
      &:not(:first-child) {
        fill: var(--clr-body);
        stroke-dasharray: 120;
        stroke-dashoffset: 120;
      }
    }
  }
}
.problems-and-solutions {
  min-height: calc(100vh + 50px);
  padding: 128px 0 100px;
  position: relative;
  background-color: var(--clr-cream-light);
  &:before {
    content: '';
    width: 100%;
    height: 50px;
    top: 0;
    left: 0;
    position: absolute;
    // background-image: url(asset-path('pages/curve.png'));
  }
  &__nav-items {
    z-index: 9;
    position: relative;
    @include breakpoint-down("lg-tab"){
    display: none;
    }
    li {
      letter-spacing: 0.05em;
      padding: 12px 20px;
      border-radius: 50px;
      background-color: transparent;
      transition: background-color 0.3s linear;
      &.active {
        background-color: var(--clr-yellow);
      }
    }
  }
  .panel {
    margin-top: 43px;
    position: relative;
    margin-bottom: 60vh;
    @include breakpoint-down('lg-tab') {
      margin-bottom: 0;
    }
    &:last-child {
      z-index: 2;
      margin-bottom: 0;
    }
  }
  .card {
    padding: 32px 36px 32px 70px;
    border-radius: 30px;
    background-color: var(--clr-blue);
  }
  .asterisks {
    left: 0;
    bottom: 0;
    width: 100%;
    height: 50vh;
    position: absolute;
  }
  .asterisk {
    left: 4vw;
    bottom: 50vw;
    position: absolute;
    &.green {
      left: 7vw;
      bottom: 20vw;
      path {
        fill: var(--clr-green)
      }
    }
    &.purple {
      right: 4vw;
      left: unset;
      path {
        fill: var(--clr-purple)
      }
    }
    &:last-of-type {
      right: 4.5vw;
      left: unset;
      bottom: 35vw;
    }
  }
}

//problem section
.problem {
  @extend .common-section;
  .contents{
    overflow: hidden;
    .problem-slider{
      .swiper-slide{
        height: auto;
        @include flexbox;
        @include align-items(center);
        @include justify-content(center);
        @include flex-direction(column);
        column-gap: 1rem;
        padding:1.25rem;
        @include breakpoint-up("xl-phone"){
          column-gap: 2.5rem;
          padding:1.25rem 1.5rem;
        }
        .demo-jaws{
          line-height: 1.2;
          @include breakpoint-down("md-tab") {
            margin-top: 0;
          }
          &_content{
            column-gap: 1rem;
            flex-wrap: wrap;
            @include breakpoint-up("xl-phone"){
              flex-wrap: nowrap;
            }
            @include breakpoint-down('md-tab') {
              margin-top: 0;
            }
            .fs-sm{
              font-size: .6125rem;
            }
            @include breakpoint-up("xl-phone"){
              column-gap: 2rem;
              .fs-sm{
                font-size: var(--fs-sm);
              }
            }
            
          }
          .jaws-pillar{
            max-width: 240px;
            @include breakpoint-up("mmd-phone"){
              max-width: 320px;
            }
            @include breakpoint-up("xl-phone"){
              max-width: 100%;
            }
          }
          svg{
            fill:var(--clr-blue);
          }

        }
      }
    }
    @include breakpoint-up('md-tab'){
      margin-right: -1.5rem;
      .problem-slider{
        margin-right: -550px;
      }
    }
    @include breakpoint-up('lg-tab'){
      .problem-slider{
        margin-right: -500px;
      }
    }
    @include breakpoint-up('sm-desktop'){
      margin-right: -2rem;
      .problem-slider{
        margin-right: -570px;
      }
    }
  }
  .problem-slide_nav{
    position: absolute;
    right: 2rem;
    top:50%;
    left: 50%;
    @include transform(translate(-50%, -50%));
    z-index: 99;
    @include breakpoint-down("md-tab"){
      display: none;
    }
    &.swiper-button-disabled{
      display: none
    }
    &.problem-slide_prev{
      svg{
        @include transform(rotate(180deg));
      }
    }

  }

  .demo {
    display: grid;
    gap: 1.5rem;
    grid-template-columns: 1fr 1fr;
    @include breakpoint-up('md-tab'){
      gap: 2rem;
    }
    
    .demo-item {
      .is-relative {
        position: relative;
        overflow: hidden;
      }
      svg{
        &.thumbs-up{
          fill: var(--clr-pich);
        }
        &.thumbs-down{
          fill: var(--clr-purple-dark);
        }
      }
      &_content{
        max-width: 200px;
        margin:0 auto;
      }
      &_list {
        li {
          margin-top: 0.5rem;
          span.fs-h5 {
            font-size: 0.6125rem;
          }
        }
      }
      
    }
    .demo-image {
      height: auto;
      max-width: 100%;
      & + .demo-image {
        position: absolute;
        top: 0;
        left: 0;
        clip-path: polygon(0 0, 15% 0, 15% 100%, 0% 100%);
      }
    }
  }
}

//symptoms section
.symptoms {
  @extend .common-section;
  @include breakpoint-up("lg-tab") {
    padding-right: 1.5rem;
  }
  @include breakpoint-up("sm-desktop") {
    .contents{
      padding-right: 2.5rem;
    }
  }
}
.symptoms-row {
  --min-width: 64px;
  display: grid;
  gap: .75rem;
  grid-template-columns: repeat(auto-fill, minmax(var(--min-width), 1fr));
  &_card{
    visibility: hidden;
    h5{
      @include break-word();
      font-size: .6125rem;
      color:var(--clr-white)
    }
    figure {
      min-height: 64px;
      max-height: 64px;
      svg {
        max-height: 40px;
        max-width: 40px;
        fill:var(--clr-green-light)
      }
    }
  }
  @include breakpoint-up("md-phone") {
    --min-width: 68px;
    grid-template-columns: repeat(auto-fill, minmax(var(--min-width), 1fr));
    &_card {
      figure {
        min-height: 70px;
        max-height: 70px;
        svg {
          max-height: 50px;
        }
      }
    }
  }
  @include breakpoint-up("md-tab") {
    grid-template-columns: repeat(5, minmax(var(--min-width), 1fr));
    column-gap: 1.25rem;
    &_card {
      figure {
        min-height: 80px;
        max-height: 80px;
        svg {
          max-height: 50px;
        }
      }
    }
  }
  @include breakpoint-up("lg-tab") {
    column-gap: 1rem;
    
  }
  @include breakpoint-up("sm-desktop") {
    --min-width: 80px;
    column-gap: 1.25rem;
    &_card {
      h5{
        font-size: .75rem;
        
      }
    }
    
  }
  @include breakpoint-up("xl-desktop") {
    --min-width: 100px;
    grid-template-columns: repeat(auto-fill, minmax(var(--min-width), 1fr));
    &_card {
      figure {
        min-height: 100px;
        max-height: 100px;
        svg {
          max-height: 60px;
        }
      }
    }
  }
}

//prevalence section
.prevalence {
  @extend .common-section;
  @include breakpoint-up("sm-desktop") {
    padding-right: 1rem;
    padding-bottom: 1rem;
    padding-top:1.5rem;
  }
  .intro{
    padding-right: 1rem;
  }
  &-row {
    display: grid;
    column-gap: 0.25rem;
    grid-template-columns: repeat(10,1fr);
    svg{
      height: auto;
      max-width: 100%;
    }
    @include breakpoint-up ('xl-phone'){
      column-gap:.5rem;
    }
    @include breakpoint-up("sm-desktop") {
      svg{
        max-width: 41px;
      }
    }

  }
  .progress-wrapper {
    display: grid;
    grid-auto-flow: row;
    @include align-items(center);
    grid-template-columns: 1fr;
    .progress-figure{
      order:1;
      padding-bottom: 3rem;
      text-align: center;
      position: relative;
      .percentage{
        position: absolute;
        color:var(--clr-white);
        left:50%;
        @include transform(translateX(-20%));
      }
    }
    .prevalence-faces{
      order:0;
    }

    @include breakpoint-up("lg-tab") {
      grid-auto-flow: column;
      grid-template-columns: 74px 1fr;
      column-gap: 1rem;
      .progress-figure{
        padding:0;
        order:0;
        .percentage{
          right: calc(100% + .8rem);
          top:50%;
          left:unset;
          @include transform(translateY(-50%));
        }
      }
      .prevalence-faces{
        order:1;
      }
    }
    svg {
      &.progress-arrow_mobile{
        max-width: 60%;
        @include breakpoint-up("lg-tab") {
          display: none;
        }
      }
      &.progress-arrow{
        @include breakpoint-down("lg-tab") {
          display: none;
        }
      }
    }
  }
}

//solutions
.solution{
  @extend .common-section;
  .card{
    padding:0;
    &-video{
      .play-icon{
        top:auto;
        bottom:2.5rem;
        left:2.5rem;
        right:auto;
        
      }
    }
  }
}

// Get started steps
.get-started-steps {
  padding: 120px 0;
  @include breakpoint-up('sm-desktop') {
    padding: 8vw 0;
  }
  h5 {
    margin-bottom: 10px;
    letter-spacing: 0.05em;
  }
  .mobile-hidden {
    @include breakpoint-down('lg-tab') {
      display: none;
    }
  }
  .desktop-hidden {
    @include breakpoint-up('lg-tab') {
      display: none;
    }
  }
  .steps {
    margin-top: 5.56vw;
    position: relative;
    @include breakpoint-up('md-tab') {
      min-height: 100vh;
    }
  }
  .step {
    gap: 6%;
    display: grid;
    place-items: center;
    position: relative;
    grid-template-columns: 61% 1fr;
    @include breakpoint-down('lg-tab') {
      padding-bottom: 38px;
      grid-template-columns: 1fr;
      .btn-primary {
        display: none;
      }
    }
    &.two,
    &.three,
    &.four{
      margin-top: 60px;
      @include breakpoint-up('lg-tab') {
        margin-top: 0;
        top: 0;
        left: 0;
        position: absolute;
      }
      .step__image {
        @include breakpoint-up('lg-tab') {
          opacity: 0;
        }
      }
    }
    &__image {
      max-height: 65vh;
      aspect-ratio: 728/562;
      border-radius: 30px;
    }
    &__number {
      width: 46px;
      height: 46px;
      font-size: 27px;
      line-height: 1;
      border-radius: 50%;
      color: var(--clr-white);
      background-color: var(--clr-green);
      font-family: var(--ff-heading-2);
      @include breakpoint-down('lg-tab') {
        display: none;
      }
      &.two {
        background-color: var(--clr-purple-dark);
      }
      &.three {
        background-color: var(--clr-brown);
      }
    }
  }
}

//careteam section
.careTeam {
  background-color: var(--clr-cream-light);
  position: relative;
  padding:8rem 0 5rem;
  @include breakpoint-up('lg-tab'){
    padding:10rem 0 8rem;
  }
  .card{
    margin-top:2rem;
  }
  &-title {
    max-width: 740px;
    margin: 0 auto;
    padding-bottom: 2rem;
  }
  &-container{
    display: grid;
    --minwidth: 280px;
    grid-template-columns: repeat(auto-fill, minmax(var(--minwidth), 1fr));
    column-gap: 1rem;
    @include breakpoint-up('xl-phone'){
      --minwidth: 380px;
    }
  }
  
}

//payment section
.payment {
  position: relative;
  padding-bottom: 350px;
  padding-top:5rem;
  @include breakpoint-up("lg-tab") {
    padding-top:8rem;
  }
  &-intro {
    
    &_content {
      max-width: 400px;
    }
    @include breakpoint-down("lg-tab") {
      &_content{
        text-align: center;
        margin:auto;
      }
    }
  }
  &-options {
    @include breakpoint-down("lg-tab") {
      margin-top: 2.5rem;
    }
    &_card {
      display: grid;
      gap: 2rem;
      align-items: center;
      grid-template-columns: 40% 1fr;
      background-color: var(--clr-cream-light);
      @include breakpoint-down('xl-phone') {
        grid-template-columns: 1fr;
      }
      svg{
        fill:var(--clr-yellow);
      }
      &:not(:last-child) {
        margin-bottom: 1.25rem;
      }
    }
    li {
      line-height: 1.28;
      &:not(:last-child) {
        margin-bottom: 0.75rem;
      }
    }
  }
}

//accordion

.explore-accordion{
  background-color: var(--clr-cream-light);
  position: relative;
  @extend  %section-padding;
}
.accordion{
  padding:5rem 0;
  @include breakpoint-up("lg-tab") {
    padding:6rem 0 8rem;
  }
}

//beforeAfter
.beforeAfter{
  padding-top:5rem;
  .beforeAfter-col{
    display: grid;
    gap: 3rem 2rem;
    grid-template-columns: 1fr;
    @include breakpoint-up("md-tab"){
      grid-template-columns: repeat(2,1fr);
    }
  }
  .tab-content{
    position: relative;
    figure{
      max-height: 262px;
      overflow: hidden;
      & + figure {
        top: 0;
        left: 0;
        position: absolute;
        clip-path: polygon(0 0, 0% 0, 0% 100%, 0% 100%);
      }
      img{
        object-fit: cover;
        object-position: center;
        aspect-ratio: 550/360;
      }
    }
    
  }

}

//Testimonial
.testimonial{
  position: relative;
  padding-top:5rem;
  perspective: 600px;
  &-card{
    background-color: var(--clr-blue);
    padding:6rem 2rem 4rem 2rem;
    position: relative;
    border-radius: 50px;
    .fs-h2{
      font-size: 1.75rem;
      @include breakpoint-up('lg-tab'){
        font-size: 2rem;
      }
    }
    @include breakpoint-up('sm-desktop'){
      padding:8rem 2rem 4rem 2rem;
    }
  }
  .testi-asterisk {
    position: absolute;
    &.pich{
      left:0;
      top:3.5vw;
      @include animationKey('moving 20s infinite linear');
      path {
        fill: var(--clr-pich)
      }
    }
    &.pich-right{
      right:6vw;
      bottom:1vw;
      @include animationKey('scrollup 10s infinite linear');
      path {
        fill: var(--clr-pich)
      }
    }
    &.green {
      left: 55vw;
      top: 1vw;
      @include animationKey('rotated 8s infinite linear');
      path {
        fill: var(--clr-green)
      }
    }
    &.green-bottom {
      left: 23vw;
      bottom: -4vw;
      @include animationKey('scale-up 5s infinite linear');
      path {
        fill: var(--clr-green)
      }
    }
    &.purple {
      left: 30vw;
      top: 3.4vw;
      @include animationKey('scale-up 5s infinite linear');
      path {
        fill: var(--clr-purple-dark)
      }
    }
    &.purple-right {
      right: 5vw;
      top: 9vw;
      @include animationKey('scrolldown 10s infinite linear');
      path {
        fill: var(--clr-purple-dark)
      }
    }
  }
  
}
.testimonial-slider{
  max-width: 740px;
  padding:1.5rem 0;
  margin:auto;
  &_card{
    text-align: center;
    color:var(--clr-white);
    
    max-width: 700px;
    margin: auto;
    .fs-h2{
      font-style: italic;
    }
  }
  .testimonial-prev,.testimonial-next{
    background-color: var(--clr-blue-light);
    @include transition (background-color .4s ease-in-out);
    &:hover{
      background-color: var(--clr-yellow);
    }
    &.swiper-button-disabled{
      cursor:not-allowed;
      &:hover{
        background-color: var(--clr-blue-light);
      }
    }
  }
  .testimonial-prev{
    svg{
      @include transform(rotate(180deg))
    }
  }
}

//blog

.blog{
  column-gap: 1.25rem;
  margin-top:-350px;
  position: relative;
  z-index: 111;
  overflow: hidden;
  @include breakpoint-up("lg-tab") {
    align-items: unset;
  }
  &-item{
    padding:2rem 1.5rem;
    overflow: hidden;
    @include breakpoint-up("md-tab") {
      padding:3rem 2rem;
    }
    &_content{
      max-width: 400px;
      padding: 1rem 1rem 0 1rem;
    }
  }
  .live-education{
    order:1;
  }
  .refer-friend{
    order:0;
    margin-bottom: 2rem;
  }
  @include breakpoint-up('lg-tab'){
    .live-education{
      order:0;
    }
    .refer-friend{
      order:1;
      margin:0;
    }
  }
  .figure-wrap{
    --minWidth:250px;
    display: grid;
    grid-template-columns:repeat(2 , 1fr) ;
    column-gap: 1rem;
    img{
      object-fit: cover;
      height: 100%;
    }
    figure{
      overflow: hidden;
    }
    &_main{
      height: 220px;
    }
    .figure-vertical{
      figure{
        max-width: 150px;
        &:not(:last-child){
          margin-bottom: 1.5rem;
          height: 130px;
        }
        &:last-child{
          max-width: 104px;
          height: 90px;
        }
      }
    }
  }
  .refer-slider{
    
    @include breakpoint-up('md-tab'){
      margin-right: -210px;
    }
    .card{
      background-color: var(--clr-white);
      img{
        display: block;
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
      &-body{
        text-align: center;
        padding:0;
        height: 0;
        opacity: 0;
        overflow: hidden;
        transition: height .5s ease-in-out, opacity .5s ease-in-out;
      }
    }
    .swiper-wrapper{
      align-items: center;
    }
    .swiper-slide{
      transition: all .5s ease-in-out, opacity .5s ease-in-out;
      &.swiper-slide-active{
        .card{
          &-body{
            padding:1rem;
            height: auto;
            opacity: 1;
          }
        }
      }
    }
  }
}

.explore{
  overflow: hidden;
  @extend  %section-padding;
}

//callaction
.callaction{
  padding:6.5rem 0;
}
.callaction-container{
  background-color: var(--clr-cream-light);
  position: relative;
  overflow: hidden;
  padding: 90px 0;
  @include breakpoint-up('md-tab') {
    padding: 75px 80px;
  }
  .callaction-content{
    position: relative;
    background-color: var(--clr-cream-light);
    padding: 52px 16px;
    @media only screen and (max-width: 303px){
      padding: 30px 16px;
    }
    @media only screen and (min-width: 390px){
      padding: 37px 16px;
    }
    @include breakpoint-up('md-tab') {
      border-radius: 20px;
      padding: 13% 10%;
    }
    @include breakpoint-up('lg-tab'){
      padding: 10%;
    }

  }
  .toothpillow-bg {
    top: 8px;
    left: -96px;
    position: absolute;
    pointer-events: none;
    @include breakpoint-up('md-tab') {
      top: -15px;
      left: -42px;
    }
    .row {
      gap: 15px;
      display: flex;
      $gap: 12px;
      $image-width: 116px;
      &:not(:first-child) {
        margin-left: -216px;
      }
      @include breakpoint-up('md-tab') {
        gap: $gap;
        @for $i from 1 through 8 {
          &:nth-child(#{ $i }) {
            margin-left: -#{($i - 1) * ($image-width + $gap)};
          }
        }
      }
      img {
        width: 95px;
        @include breakpoint-up('md-tab') {
          width: $image-width;
        }
      }
    }
  }
  .callaction-shape{
    position: absolute;
    left: -162px;
    right:0;
    top: -18px;
    width: 1646.63px;
    max-width: unset;
    &_bottom{
      top: unset;
      left: -420px;
      bottom: -23px;
    }
  }
  .vertical-icons{
    display: none;
    @include breakpoint-up('md-tab'){
      display: block;
      position: absolute;
      top:4rem;
      bottom:4rem;
      max-width: 74px;
    }
    &_left{
      left:0;
    }
    &_right{
      right:0;
    }
  }
}



